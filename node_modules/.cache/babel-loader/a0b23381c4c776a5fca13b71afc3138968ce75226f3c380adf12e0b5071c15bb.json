{"ast":null,"code":"import _objectSpread from\"/Users/laurawang/Desktop/Uni/ALDO retail /draft 3/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState,Fragment,useEffect}from'react';import'./App.css';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const months=['January','February','March','April','May','June','July','August','September','October','November','December'];function App(){const[currentStep,setCurrentStep]=useState(0);const[isLoading,setIsLoading]=useState(false);const[apiResponse,setApiResponse]=useState(null);const[currentBundleIndex,setCurrentBundleIndex]=useState(0);const[selectedBundle,setSelectedBundle]=useState(null);const[showBoxAnimation,setShowBoxAnimation]=useState(false);const[animationFrame,setAnimationFrame]=useState(1);const[showFeedbackForm,setShowFeedbackForm]=useState(false);const[formData,setFormData]=useState({recipient:'',outfitImages:[],age:18,gender:'',occasion:'',month:'',selectedImages:[],budget:''});const updateFormData=(field,value)=>{setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[field]:value}));};const nextStep=()=>{if(currentStep<9){setCurrentStep(currentStep+1);}};const prevStep=()=>{if(currentStep>0){setCurrentStep(currentStep-1);}};const toggleImageSelection=index=>{const newSelection=formData.selectedImages.includes(index)?formData.selectedImages.filter(i=>i!==index):[...formData.selectedImages,index];updateFormData('selectedImages',newSelection);};const handleImageUpload=event=>{const files=Array.from(event.target.files);const newImages=[...formData.outfitImages];files.forEach(file=>{if(file.type.startsWith('image/')){// Compress image before adding\ncompressImage(file,compressedDataUrl=>{newImages.push({file:file,preview:compressedDataUrl,name:file.name});updateFormData('outfitImages',[...newImages]);});}});};const compressImage=(file,callback)=>{const canvas=document.createElement('canvas');const ctx=canvas.getContext('2d');const img=new Image();img.onload=()=>{// Set max dimensions\nconst maxWidth=800;const maxHeight=600;let{width,height}=img;// Calculate new dimensions\nif(width>height){if(width>maxWidth){height=height*maxWidth/width;width=maxWidth;}}else{if(height>maxHeight){width=width*maxHeight/height;height=maxHeight;}}canvas.width=width;canvas.height=height;// Draw and compress\nctx.drawImage(img,0,0,width,height);const compressedDataUrl=canvas.toDataURL('image/jpeg',0.7);// 70% quality\ncallback(compressedDataUrl);};const reader=new FileReader();reader.onload=e=>{img.src=e.target.result;};reader.readAsDataURL(file);};const removeImage=index=>{const newImages=formData.outfitImages.filter((_,i)=>i!==index);updateFormData('outfitImages',newImages);};const nextBundle=()=>{if(apiResponse&&apiResponse.bundles){setCurrentBundleIndex(prev=>prev<apiResponse.bundles.length-1?prev+1:0);}};const prevBundle=()=>{if(apiResponse&&apiResponse.bundles){setCurrentBundleIndex(prev=>prev>0?prev-1:apiResponse.bundles.length-1);}};const selectBundle=bundle=>{setSelectedBundle(bundle);setShowBoxAnimation(true);setAnimationFrame(1);// Animation sequence\nsetTimeout(()=>setAnimationFrame(2),1000);// Frame 2 after 1 second\nsetTimeout(()=>setAnimationFrame(3),2500);// Frame 3 after 2.5 seconds\n};const submitToAPI=async()=>{setIsLoading(true);setCurrentStep(9);// Go to results page immediately to show loading animation\ntry{// Parse budget to extract numeric value\nconst parseBudget=budgetStr=>{if(!budgetStr)return 0;// Remove currency symbols and non-numeric characters, keep only numbers and decimal points\nconst numericStr=budgetStr.replace(/[^0-9.]/g,'');const parsed=parseFloat(numericStr);return isNaN(parsed)?0:parsed;};// Prepare the payload\nconst payload={recipient:formData.recipient,images:formData.outfitImages.map(img=>img.preview),// Send as array of base64 strings\nage:formData.age,gender:formData.gender,occasion:formData.occasion,month:formData.month,selectedImages:formData.selectedImages,budget:parseBudget(formData.budget)// Convert to number\n};console.log('Sending payload:',_objectSpread(_objectSpread({},payload),{},{images:\"[\".concat(payload.images.length,\" images]\")}));const response=await fetch('https://cjrw1dwlx2.execute-api.us-east-1.amazonaws.com/prod/outfit-bundles',{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify(payload)});console.log('Response status:',response.status);if(!response.ok){const errorText=await response.text();console.error('API Error Response:',errorText);throw new Error(\"API returned \".concat(response.status,\": \").concat(errorText));}const data=await response.json();console.log('API Success Response:',data);setApiResponse(data);setCurrentBundleIndex(0);// Reset carousel to first bundle\n}catch(error){console.error('Error calling API:',error);setApiResponse({error:\"Failed to get gift recommendations: \".concat(error.message,\". Please try again.\")});}finally{setIsLoading(false);}};return/*#__PURE__*/_jsxs(\"div\",{className:\"app\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"page active\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"logo\",children:\"ALDO\"}),/*#__PURE__*/_jsx(\"div\",{className:\"mascot\",children:\"\\uD83C\\uDF81\"})]}),currentStep===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"paper-overlay step-0\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"question\",children:[\"So you want to buy a gift?\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"br\",{}),\"I'm Gifty and let's buy a gift together!\"]}),/*#__PURE__*/_jsx(\"button\",{className:\"next-btn\",onClick:nextStep,children:\"Let's Start!\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/mascot.svg\",alt:\"Gifty Mascot\",className:\"paper-mascot\"})]}),currentStep===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"paper-overlay step-1\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:prevStep,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/who.svg\",alt:\"Who\",className:\"who-icon\"}),/*#__PURE__*/_jsx(\"div\",{className:\"question\",children:\"Who is it for?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"input-group\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Enter name...\",value:formData.recipient,onChange:e=>updateFormData('recipient',e.target.value)})}),/*#__PURE__*/_jsx(\"button\",{className:\"next-btn\",onClick:nextStep,disabled:!formData.recipient.trim(),children:\"Next\"})]}),currentStep===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"paper-overlay step-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:prevStep,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/take_pics.svg\",alt:\"Take Pictures\",className:\"take-pics-icon\"}),/*#__PURE__*/_jsx(\"div\",{className:\"question\",children:\"Please add one or more outfit image that best describes the style\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"image-upload-section\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"upload-area\",children:[/*#__PURE__*/_jsx(\"input\",{type:\"file\",id:\"outfit-upload\",multiple:true,accept:\"image/*\",onChange:handleImageUpload,style:{display:'none'}}),/*#__PURE__*/_jsxs(\"label\",{htmlFor:\"outfit-upload\",className:\"upload-label\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"upload-icon\",children:\"\\uD83D\\uDCF7\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"upload-text\",children:[\"Click to upload outfit images\",/*#__PURE__*/_jsx(\"br\",{}),/*#__PURE__*/_jsx(\"small\",{children:\"You can select multiple images\"})]})]})]}),formData.outfitImages.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"uploaded-images\",children:formData.outfitImages.map((image,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"uploaded-image\",children:[/*#__PURE__*/_jsx(\"img\",{src:image.preview,alt:\"Outfit \".concat(index+1)}),/*#__PURE__*/_jsx(\"button\",{className:\"remove-image-btn\",onClick:()=>removeImage(index),children:\"\\xD7\"})]},index))})]}),/*#__PURE__*/_jsx(\"button\",{className:\"next-btn\",onClick:nextStep,disabled:formData.outfitImages.length===0,children:\"Next\"})]}),currentStep===3&&/*#__PURE__*/_jsxs(\"div\",{className:\"paper-overlay step-3\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:prevStep,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"div\",{className:\"question\",children:\"Tell me about them?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"age-slider\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Age:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"range\",min:\"1\",max:\"100\",value:formData.age,onChange:e=>updateFormData('age',parseInt(e.target.value))}),/*#__PURE__*/_jsx(\"div\",{className:\"age-value\",children:formData.age})]}),/*#__PURE__*/_jsx(\"button\",{className:\"next-btn\",onClick:nextStep,children:\"Next\"})]}),currentStep===4&&/*#__PURE__*/_jsxs(\"div\",{className:\"paper-overlay step-4\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:prevStep,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"div\",{className:\"question\",children:\"Tell me about them?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"options\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"option-btn \".concat(formData.gender==='M'?'selected':''),onClick:()=>updateFormData('gender','M'),children:\"M\"}),/*#__PURE__*/_jsx(\"button\",{className:\"option-btn \".concat(formData.gender==='F'?'selected':''),onClick:()=>updateFormData('gender','F'),children:\"F\"}),/*#__PURE__*/_jsx(\"button\",{className:\"option-btn \".concat(formData.gender==='Other'?'selected':''),onClick:()=>updateFormData('gender','Other'),children:\"Other\"}),/*#__PURE__*/_jsx(\"button\",{className:\"option-btn \".concat(formData.gender==='Prefer not to say'?'selected':''),onClick:()=>updateFormData('gender','Prefer not to say'),children:\"Prefer not to say\"})]}),/*#__PURE__*/_jsx(\"button\",{className:\"next-btn\",onClick:nextStep,disabled:!formData.gender,children:\"Next\"})]}),currentStep===5&&/*#__PURE__*/_jsxs(\"div\",{className:\"paper-overlay step-5\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:prevStep,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"div\",{className:\"question\",children:\"Tell me about them?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"When is the gift for?\"}),/*#__PURE__*/_jsx(MonthDropdown,{value:formData.month,onChange:month=>updateFormData('month',month)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"next-btn\",onClick:nextStep,disabled:!formData.month,children:\"Next\"})]}),currentStep===6&&/*#__PURE__*/_jsxs(\"div\",{className:\"paper-overlay step-6\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:prevStep,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"img\",{src:\"/occasion.svg\",alt:\"Occasion\",className:\"occasion-icon\"}),/*#__PURE__*/_jsx(\"div\",{className:\"question\",children:\"Tell me about them?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Occasion:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Birthday, Anniversary, etc...\",value:formData.occasion,onChange:e=>updateFormData('occasion',e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"next-btn\",onClick:nextStep,disabled:!formData.occasion.trim(),children:\"Next\"})]}),currentStep===7&&/*#__PURE__*/_jsxs(\"div\",{className:\"paper-overlay step-7\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:prevStep,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsx(\"div\",{className:\"question\",children:\"What's your budget?\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"input-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Enter budget:\"}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"$50, $100, etc...\",value:formData.budget,onChange:e=>updateFormData('budget',e.target.value)})]}),/*#__PURE__*/_jsx(\"button\",{className:\"next-btn\",onClick:nextStep,disabled:!formData.budget.trim(),children:\"Next\"})]}),currentStep===8&&/*#__PURE__*/_jsxs(\"div\",{className:\"paper-overlay step-8\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-btn\",onClick:prevStep,children:\"\\u2190 Back\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"final-message\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"It seems like we are ready.\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Let's go find a gift!\"}),/*#__PURE__*/_jsx(\"button\",{className:\"next-btn find-gifts-btn\",onClick:submitToAPI,disabled:isLoading,children:isLoading?'Finding Gifts...':'Find Gifts!'})]})]}),currentStep===9&&/*#__PURE__*/_jsx(\"div\",{className:\"paper-overlay step-9\",children:/*#__PURE__*/_jsx(\"div\",{className:\"results-page\",children:isLoading?/*#__PURE__*/_jsx(WalkingLoader,{recipient:formData.recipient}):apiResponse?/*#__PURE__*/_jsxs(\"div\",{className:\"gift-results\",children:[/*#__PURE__*/_jsxs(\"h2\",{children:[\"Perfect Gifts for \",formData.recipient,\"!\"]}),apiResponse.error?/*#__PURE__*/_jsxs(\"div\",{className:\"error-message\",children:[/*#__PURE__*/_jsx(\"p\",{children:apiResponse.error}),/*#__PURE__*/_jsx(\"button\",{className:\"next-btn\",onClick:()=>setCurrentStep(7),children:\"Try Again\"})]}):/*#__PURE__*/_jsxs(\"div\",{className:\"bundle-carousel-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bundle-explanation\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDFAF AI-Curated Gift Bundles\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Our AI analyzed your style preferences and created these perfect shoe & handbag combinations for \",formData.recipient,\". Each bundle is carefully matched for style, occasion, and budget.\"]})]}),apiResponse.bundles&&apiResponse.bundles.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"bundle-carousel\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-header\",children:[/*#__PURE__*/_jsxs(\"h3\",{children:[\"Bundle \",currentBundleIndex+1,\" of \",apiResponse.bundles.length]}),/*#__PURE__*/_jsx(\"div\",{className:\"carousel-dots\",children:apiResponse.bundles.map((_,index)=>/*#__PURE__*/_jsx(\"button\",{className:\"dot \".concat(index===currentBundleIndex?'active':''),onClick:()=>setCurrentBundleIndex(index)},index))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"carousel-content\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"carousel-btn prev-btn\",onClick:prevBundle,disabled:apiResponse.bundles.length<=1,children:\"\\u2039\"}),/*#__PURE__*/_jsx(\"div\",{className:\"bundle-display\",children:(()=>{const bundle=apiResponse.bundles[currentBundleIndex];return/*#__PURE__*/_jsxs(\"div\",{className:\"bundle-card-horizontal\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bundle-header\",children:[/*#__PURE__*/_jsx(\"h3\",{children:bundle.bundle_name||\"Bundle \".concat(bundle.bundle_number)}),/*#__PURE__*/_jsxs(\"div\",{className:\"bundle-meta\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"bundle-type\",children:bundle.bundle_type}),/*#__PURE__*/_jsxs(\"span\",{className:\"match-score\",children:[\"Match: \",bundle.match_score,\"/10\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bundle-feedback\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"feedback-btn thumbs-up\",title:\"I like this bundle\",children:\"\\uD83D\\uDC4D\"}),/*#__PURE__*/_jsx(\"button\",{className:\"feedback-btn thumbs-down\",title:\"Not for me\",children:\"\\uD83D\\uDC4E\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bundle-items-horizontal\",children:bundle.items&&bundle.items.map((item,itemIndex)=>{const getCategoryIcon=category=>{switch(category){case'shoes':return'üë†';case'handbag':return'üëú';case'clothing':return'üëî';default:return'üéÅ';}};const getCategoryLabel=category=>{switch(category){case'shoes':return'Shoes';case'handbag':return'Handbag';case'clothing':return'Clothing';default:return'Item';}};return/*#__PURE__*/_jsxs(Fragment,{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"bundle-item-horizontal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-header\",children:/*#__PURE__*/_jsxs(\"h4\",{children:[getCategoryIcon(item.category),\" \",getCategoryLabel(item.category)]})}),item.image_url&&/*#__PURE__*/_jsx(\"img\",{src:item.image_url,alt:item.product_name,className:\"item-image-large\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-details\",children:[/*#__PURE__*/_jsx(\"p\",{className:\"item-name\",children:item.product_name}),/*#__PURE__*/_jsxs(\"p\",{className:\"item-price\",children:[\"$\",item.price]}),item.product_url&&/*#__PURE__*/_jsxs(\"a\",{href:item.product_url,target:\"_blank\",rel:\"noopener noreferrer\",className:\"item-link\",children:[\"View \",getCategoryLabel(item.category)]}),item.reason&&/*#__PURE__*/_jsx(\"div\",{className:\"item-reason\",children:/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsxs(\"strong\",{children:[\"Why this \",item.category,\":\"]}),\" \",item.reason]})})]})]}),itemIndex<bundle.items.length-1&&/*#__PURE__*/_jsxs(\"div\",{className:\"bundle-connector\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"connector-line\"}),/*#__PURE__*/_jsx(\"div\",{className:\"plus-icon\",children:\"+\"}),/*#__PURE__*/_jsx(\"div\",{className:\"connector-line\"})]})]},itemIndex);})}),bundle.total_cost&&/*#__PURE__*/_jsxs(\"div\",{className:\"bundle-total-horizontal\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"total-label\",children:\"Bundle Total\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"total-price\",children:[\"$\",bundle.total_cost]})]}),bundle.styling_note&&/*#__PURE__*/_jsxs(\"div\",{className:\"bundle-note\",children:[/*#__PURE__*/_jsx(\"h5\",{children:\"\\u2728 Styling Note\"}),/*#__PURE__*/_jsx(\"p\",{children:bundle.styling_note})]}),/*#__PURE__*/_jsx(\"div\",{className:\"bundle-actions\",children:/*#__PURE__*/_jsx(\"button\",{className:\"select-bundle-btn\",onClick:()=>selectBundle(bundle),children:\"Select This Bundle \\uD83C\\uDF81\"})})]});})()}),/*#__PURE__*/_jsx(\"button\",{className:\"carousel-btn next-btn\",onClick:nextBundle,disabled:apiResponse.bundles.length<=1,children:\"\\u203A\"})]})]}),apiResponse.context&&/*#__PURE__*/_jsxs(\"div\",{className:\"context-info\",children:[/*#__PURE__*/_jsx(\"h4\",{children:\"\\uD83D\\uDCCB Your Preferences\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"context-grid\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"context-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"context-label\",children:\"Recipient:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"context-value\",children:formData.recipient})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"context-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"context-label\",children:\"Age:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"context-value\",children:apiResponse.context.age})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"context-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"context-label\",children:\"Gender:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"context-value\",children:apiResponse.context.gender})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"context-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"context-label\",children:\"Occasion:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"context-value\",children:apiResponse.context.occasion})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"context-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"context-label\",children:\"Budget:\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"context-value\",children:[\"$\",apiResponse.context.budget]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"context-item\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"context-label\",children:\"Outfits Found:\"}),/*#__PURE__*/_jsx(\"span\",{className:\"context-value\",children:apiResponse.outfits_count})]})]})]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"feedback-link-container\",children:/*#__PURE__*/_jsx(\"button\",{className:\"feedback-link-btn\",onClick:()=>setShowFeedbackForm(true),children:\"\\uD83D\\uDCDD Share your feedback\"})}),/*#__PURE__*/_jsx(\"button\",{className:\"next-btn\",onClick:()=>{setCurrentStep(0);setFormData({recipient:'',outfitImages:[],age:18,gender:'',occasion:'',month:'',selectedImages:[],budget:''});setApiResponse(null);setSelectedBundle(null);setShowBoxAnimation(false);setAnimationFrame(1);},children:\"Start Over\"})]}):null})}),showBoxAnimation&&selectedBundle&&/*#__PURE__*/_jsx(BoxAnimation,{bundle:selectedBundle,animationFrame:animationFrame,outfitImages:formData.outfitImages,onClose:()=>{setShowBoxAnimation(false);setSelectedBundle(null);setAnimationFrame(1);}}),showFeedbackForm&&/*#__PURE__*/_jsx(FeedbackForm,{onClose:()=>setShowFeedbackForm(false)})]});}function FeedbackForm(_ref){let{onClose}=_ref;const[feedback,setFeedback]=useState({rating:0,comments:'',email:''});const handleSubmit=e=>{e.preventDefault();console.log('Feedback submitted:',feedback);// Here you can add API call to save feedback\nalert('Thank you for your feedback!');onClose();};return/*#__PURE__*/_jsx(\"div\",{className:\"feedback-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"feedback-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-feedback-btn\",onClick:onClose,children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"h2\",{children:\"We'd love your feedback!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"feedback-subtitle\",children:\"Help us improve your gift-finding experience\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"feedback-form\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"How would you rate your experience?\"}),/*#__PURE__*/_jsx(\"div\",{className:\"rating-stars\",children:[1,2,3,4,5].map(star=>/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"star-btn \".concat(feedback.rating>=star?'active':''),onClick:()=>setFeedback(_objectSpread(_objectSpread({},feedback),{},{rating:star})),children:\"\\u2B50\"},star))})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Tell us more (optional)\"}),/*#__PURE__*/_jsx(\"textarea\",{value:feedback.comments,onChange:e=>setFeedback(_objectSpread(_objectSpread({},feedback),{},{comments:e.target.value})),placeholder:\"What did you like? What could be better?\",rows:\"4\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-group\",children:[/*#__PURE__*/_jsx(\"label\",{children:\"Email (optional)\"}),/*#__PURE__*/_jsx(\"input\",{type:\"email\",value:feedback.email,onChange:e=>setFeedback(_objectSpread(_objectSpread({},feedback),{},{email:e.target.value})),placeholder:\"your@email.com\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-actions\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"submit-feedback-btn\",children:\"Submit Feedback\"}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"cancel-btn\",onClick:onClose,children:\"Cancel\"})]})]})]})});}function BoxAnimation(_ref2){let{bundle,animationFrame,outfitImages,onClose}=_ref2;return/*#__PURE__*/_jsx(\"div\",{className:\"box-animation-overlay\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"box-animation-container\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"close-animation-btn\",onClick:onClose,children:\"\\xD7\"}),animationFrame===1&&/*#__PURE__*/_jsxs(\"div\",{className:\"animation-frame frame-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"svg-frame-container\",children:/*#__PURE__*/_jsx(\"img\",{src:\"/frame1.svg\",alt:\"Closed Gift Box\",className:\"frame-svg\"})}),/*#__PURE__*/_jsx(\"h3\",{children:\"Preparing your perfect gift bundle...\"})]}),animationFrame===2&&/*#__PURE__*/_jsxs(\"div\",{className:\"animation-frame frame-2\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"svg-frame-container\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/frame2.svg\",alt:\"Opening Gift Box\",className:\"frame-svg\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"aesthetic-effects-overlay\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"effect effect-1\",children:\"\\u02DA.\\u30FB\"}),/*#__PURE__*/_jsx(\"span\",{className:\"effect effect-2\",children:\"\\u22B9 \\u08EA \\u02D6\"}),/*#__PURE__*/_jsx(\"span\",{className:\"effect effect-3\",children:\"\\u2606\\u22C6\\uFF61\\uD81A\\uDDB9\\xB0\\u2027\\u2605\"}),/*#__PURE__*/_jsx(\"span\",{className:\"effect effect-4\",children:\"\\u02D9\\u22C6\\u272E\"}),/*#__PURE__*/_jsx(\"span\",{className:\"effect effect-5\",children:\"\\u22C6\\u02DA\\u27E1\\u02D6 \\u08EA\"}),/*#__PURE__*/_jsx(\"span\",{className:\"effect effect-6\",children:\"\\u02DA.\\u30FB\"})]})]}),/*#__PURE__*/_jsx(\"h3\",{children:\"Opening your gift bundle...\"})]}),animationFrame===3&&/*#__PURE__*/_jsxs(\"div\",{className:\"animation-frame frame-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"svg-frame-container\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"cards-sliding-container\",children:[outfitImages.length>0&&/*#__PURE__*/_jsxs(\"div\",{className:\"sliding-card reference-card\",children:[/*#__PURE__*/_jsx(\"img\",{src:outfitImages[0].preview,alt:\"Style Reference\"}),/*#__PURE__*/_jsx(\"div\",{className:\"card-label\",children:\"Reference\"})]}),bundle.items&&bundle.items.map((item,index)=>/*#__PURE__*/_jsxs(\"div\",{className:\"sliding-card card-\".concat(index+1),children:[item.image_url&&/*#__PURE__*/_jsx(\"img\",{src:item.image_url,alt:item.product_name}),/*#__PURE__*/_jsx(\"div\",{className:\"card-label\",children:item.product_name}),/*#__PURE__*/_jsxs(\"div\",{className:\"card-price\",children:[\"$\",item.price]})]},index))]}),/*#__PURE__*/_jsx(\"img\",{src:\"/frame2.svg\",alt:\"Opened Gift Box\",className:\"frame-svg frame-sme-svg-top\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"bundle-summary\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83C\\uDF89 Your Perfect Gift Bundle!\"}),/*#__PURE__*/_jsx(\"p\",{children:/*#__PURE__*/_jsx(\"strong\",{children:bundle.bundle_name})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Total: \",/*#__PURE__*/_jsxs(\"strong\",{children:[\"$\",bundle.total_cost]})]}),/*#__PURE__*/_jsx(\"p\",{children:bundle.styling_note}),/*#__PURE__*/_jsxs(\"div\",{className:\"final-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"purchase-btn\",children:\"Purchase Bundle\"}),/*#__PURE__*/_jsx(\"button\",{className:\"share-btn\",children:\"Share Bundle\"})]})]})]})]})});}function WalkingLoader(_ref3){let{recipient}=_ref3;const[walkFrame,setWalkFrame]=useState(1);useEffect(()=>{const interval=setInterval(()=>{setWalkFrame(prev=>prev%3+1);},300);// Change frame every 300ms\nreturn()=>clearInterval(interval);},[]);return/*#__PURE__*/_jsxs(\"div\",{className:\"walking-loader\",children:[/*#__PURE__*/_jsx(\"img\",{src:\"/walk\".concat(walkFrame,\".svg\"),alt:\"Walking\",className:\"walk-animation\"}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Finding the perfect gifts for \",recipient,\"...\"]})]});}function MonthDropdown(_ref4){let{value,onChange}=_ref4;const[isOpen,setIsOpen]=useState(false);return/*#__PURE__*/_jsxs(\"div\",{className:\"dropdown\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"dropdown-btn\",onClick:()=>setIsOpen(!isOpen),children:value||'Month'}),isOpen&&/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-content\",children:months.map(month=>/*#__PURE__*/_jsx(\"div\",{className:\"dropdown-item\",onClick:()=>{onChange(month);setIsOpen(false);},children:month},month))})]});}export default App;","map":{"version":3,"names":["React","useState","Fragment","useEffect","jsx","_jsx","jsxs","_jsxs","months","App","currentStep","setCurrentStep","isLoading","setIsLoading","apiResponse","setApiResponse","currentBundleIndex","setCurrentBundleIndex","selectedBundle","setSelectedBundle","showBoxAnimation","setShowBoxAnimation","animationFrame","setAnimationFrame","showFeedbackForm","setShowFeedbackForm","formData","setFormData","recipient","outfitImages","age","gender","occasion","month","selectedImages","budget","updateFormData","field","value","prev","_objectSpread","nextStep","prevStep","toggleImageSelection","index","newSelection","includes","filter","i","handleImageUpload","event","files","Array","from","target","newImages","forEach","file","type","startsWith","compressImage","compressedDataUrl","push","preview","name","callback","canvas","document","createElement","ctx","getContext","img","Image","onload","maxWidth","maxHeight","width","height","drawImage","toDataURL","reader","FileReader","e","src","result","readAsDataURL","removeImage","_","nextBundle","bundles","length","prevBundle","selectBundle","bundle","setTimeout","submitToAPI","parseBudget","budgetStr","numericStr","replace","parsed","parseFloat","isNaN","payload","images","map","console","log","concat","response","fetch","method","headers","body","JSON","stringify","status","ok","errorText","text","error","Error","data","json","message","className","children","onClick","alt","placeholder","onChange","disabled","trim","id","multiple","accept","style","display","htmlFor","image","min","max","parseInt","MonthDropdown","WalkingLoader","bundle_name","bundle_number","bundle_type","match_score","title","items","item","itemIndex","getCategoryIcon","category","getCategoryLabel","image_url","product_name","price","product_url","href","rel","reason","total_cost","styling_note","context","outfits_count","BoxAnimation","onClose","FeedbackForm","_ref","feedback","setFeedback","rating","comments","email","handleSubmit","preventDefault","alert","onSubmit","star","rows","_ref2","_ref3","walkFrame","setWalkFrame","interval","setInterval","clearInterval","_ref4","isOpen","setIsOpen"],"sources":["/Users/laurawang/Desktop/Uni/ALDO retail /draft 3/src/App.js"],"sourcesContent":["import React, { useState, Fragment, useEffect } from 'react';\nimport './App.css';\n\nconst months = [\n  'January', 'February', 'March', 'April', 'May', 'June',\n  'July', 'August', 'September', 'October', 'November', 'December'\n];\n\nfunction App() {\n  const [currentStep, setCurrentStep] = useState(0);\n  const [isLoading, setIsLoading] = useState(false);\n  const [apiResponse, setApiResponse] = useState(null);\n  const [currentBundleIndex, setCurrentBundleIndex] = useState(0);\n  const [selectedBundle, setSelectedBundle] = useState(null);\n  const [showBoxAnimation, setShowBoxAnimation] = useState(false);\n  const [animationFrame, setAnimationFrame] = useState(1);\n  const [showFeedbackForm, setShowFeedbackForm] = useState(false);\n  const [formData, setFormData] = useState({\n    recipient: '',\n    outfitImages: [],\n    age: 18,\n    gender: '',\n    occasion: '',\n    month: '',\n    selectedImages: [],\n    budget: ''\n  });\n\n  const updateFormData = (field, value) => {\n    setFormData(prev => ({ ...prev, [field]: value }));\n  };\n\n  const nextStep = () => {\n    if (currentStep < 9) {\n      setCurrentStep(currentStep + 1);\n    }\n  };\n\n  const prevStep = () => {\n    if (currentStep > 0) {\n      setCurrentStep(currentStep - 1);\n    }\n  };\n\n  const toggleImageSelection = (index) => {\n    const newSelection = formData.selectedImages.includes(index)\n      ? formData.selectedImages.filter(i => i !== index)\n      : [...formData.selectedImages, index];\n    updateFormData('selectedImages', newSelection);\n  };\n\n  const handleImageUpload = (event) => {\n    const files = Array.from(event.target.files);\n    const newImages = [...formData.outfitImages];\n    \n    files.forEach(file => {\n      if (file.type.startsWith('image/')) {\n        // Compress image before adding\n        compressImage(file, (compressedDataUrl) => {\n          newImages.push({\n            file: file,\n            preview: compressedDataUrl,\n            name: file.name\n          });\n          updateFormData('outfitImages', [...newImages]);\n        });\n      }\n    });\n  };\n\n  const compressImage = (file, callback) => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    const img = new Image();\n    \n    img.onload = () => {\n      // Set max dimensions\n      const maxWidth = 800;\n      const maxHeight = 600;\n      \n      let { width, height } = img;\n      \n      // Calculate new dimensions\n      if (width > height) {\n        if (width > maxWidth) {\n          height = (height * maxWidth) / width;\n          width = maxWidth;\n        }\n      } else {\n        if (height > maxHeight) {\n          width = (width * maxHeight) / height;\n          height = maxHeight;\n        }\n      }\n      \n      canvas.width = width;\n      canvas.height = height;\n      \n      // Draw and compress\n      ctx.drawImage(img, 0, 0, width, height);\n      const compressedDataUrl = canvas.toDataURL('image/jpeg', 0.7); // 70% quality\n      callback(compressedDataUrl);\n    };\n    \n    const reader = new FileReader();\n    reader.onload = (e) => {\n      img.src = e.target.result;\n    };\n    reader.readAsDataURL(file);\n  };\n\n  const removeImage = (index) => {\n    const newImages = formData.outfitImages.filter((_, i) => i !== index);\n    updateFormData('outfitImages', newImages);\n  };\n\n  const nextBundle = () => {\n    if (apiResponse && apiResponse.bundles) {\n      setCurrentBundleIndex((prev) => \n        prev < apiResponse.bundles.length - 1 ? prev + 1 : 0\n      );\n    }\n  };\n\n  const prevBundle = () => {\n    if (apiResponse && apiResponse.bundles) {\n      setCurrentBundleIndex((prev) => \n        prev > 0 ? prev - 1 : apiResponse.bundles.length - 1\n      );\n    }\n  };\n\n  const selectBundle = (bundle) => {\n    setSelectedBundle(bundle);\n    setShowBoxAnimation(true);\n    setAnimationFrame(1);\n    \n    // Animation sequence\n    setTimeout(() => setAnimationFrame(2), 1000); // Frame 2 after 1 second\n    setTimeout(() => setAnimationFrame(3), 2500); // Frame 3 after 2.5 seconds\n  };\n\n  const submitToAPI = async () => {\n    setIsLoading(true);\n    setCurrentStep(9); // Go to results page immediately to show loading animation\n    try {\n      // Parse budget to extract numeric value\n      const parseBudget = (budgetStr) => {\n        if (!budgetStr) return 0;\n        // Remove currency symbols and non-numeric characters, keep only numbers and decimal points\n        const numericStr = budgetStr.replace(/[^0-9.]/g, '');\n        const parsed = parseFloat(numericStr);\n        return isNaN(parsed) ? 0 : parsed;\n      };\n\n      // Prepare the payload\n      const payload = {\n        recipient: formData.recipient,\n        images: formData.outfitImages.map(img => img.preview), // Send as array of base64 strings\n        age: formData.age,\n        gender: formData.gender,\n        occasion: formData.occasion,\n        month: formData.month,\n        selectedImages: formData.selectedImages,\n        budget: parseBudget(formData.budget) // Convert to number\n      };\n\n      console.log('Sending payload:', { ...payload, images: `[${payload.images.length} images]` });\n\n      const response = await fetch('https://cjrw1dwlx2.execute-api.us-east-1.amazonaws.com/prod/outfit-bundles', {\n        method: 'POST',\n        headers: {\n          'Content-Type': 'application/json',\n        },\n        body: JSON.stringify(payload)\n      });\n      \n      console.log('Response status:', response.status);\n      \n      if (!response.ok) {\n        const errorText = await response.text();\n        console.error('API Error Response:', errorText);\n        throw new Error(`API returned ${response.status}: ${errorText}`);\n      }\n      \n      const data = await response.json();\n      console.log('API Success Response:', data);\n      setApiResponse(data);\n      setCurrentBundleIndex(0); // Reset carousel to first bundle\n    } catch (error) {\n      console.error('Error calling API:', error);\n      setApiResponse({ \n        error: `Failed to get gift recommendations: ${error.message}. Please try again.` \n      });\n    } finally {\n      setIsLoading(false);\n    }\n  };\n\n  return (\n    <div className=\"app\">\n      <div className=\"page active\">\n        <div className=\"logo\">ALDO</div>\n        <div className=\"mascot\">üéÅ</div>\n      </div>\n\n      {/* Step 0: Welcome */}\n      {currentStep === 0 && (\n        <div className=\"paper-overlay step-0\">\n          <div className=\"question\">\n            So you want to buy a gift?\n            <br />\n            <br />\n            I'm Gifty and let's buy a gift together!\n          </div>\n          <button className=\"next-btn\" onClick={nextStep}>\n            Let's Start!\n          </button>\n          <img src=\"/mascot.svg\" alt=\"Gifty Mascot\" className=\"paper-mascot\" />\n        </div>\n      )}\n\n      {/* Step 1: Who is it for? */}\n      {currentStep === 1 && (\n        <div className=\"paper-overlay step-1\">\n          <button className=\"back-btn\" onClick={prevStep}>‚Üê Back</button>\n          <img src=\"/who.svg\" alt=\"Who\" className=\"who-icon\" />\n          <div className=\"question\">Who is it for?</div>\n          <div className=\"input-group\">\n            <input\n              type=\"text\"\n              placeholder=\"Enter name...\"\n              value={formData.recipient}\n              onChange={(e) => updateFormData('recipient', e.target.value)}\n            />\n          </div>\n          <button \n            className=\"next-btn\" \n            onClick={nextStep}\n            disabled={!formData.recipient.trim()}\n          >\n            Next\n          </button>\n        </div>\n      )}\n\n      {/* Step 2: Outfit Image Upload */}\n      {currentStep === 2 && (\n        <div className=\"paper-overlay step-2\">\n          <button className=\"back-btn\" onClick={prevStep}>‚Üê Back</button>\n          <img src=\"/take_pics.svg\" alt=\"Take Pictures\" className=\"take-pics-icon\" />\n          <div className=\"question\">Please add one or more outfit image that best describes the style</div>\n          \n          <div className=\"image-upload-section\">\n            <div className=\"upload-area\">\n              <input\n                type=\"file\"\n                id=\"outfit-upload\"\n                multiple\n                accept=\"image/*\"\n                onChange={handleImageUpload}\n                style={{ display: 'none' }}\n              />\n              <label htmlFor=\"outfit-upload\" className=\"upload-label\">\n                <div className=\"upload-icon\">üì∑</div>\n                <div className=\"upload-text\">\n                  Click to upload outfit images\n                  <br />\n                  <small>You can select multiple images</small>\n                </div>\n              </label>\n            </div>\n            \n            {formData.outfitImages.length > 0 && (\n              <div className=\"uploaded-images\">\n                {formData.outfitImages.map((image, index) => (\n                  <div key={index} className=\"uploaded-image\">\n                    <img src={image.preview} alt={`Outfit ${index + 1}`} />\n                    <button \n                      className=\"remove-image-btn\"\n                      onClick={() => removeImage(index)}\n                    >\n                      √ó\n                    </button>\n                  </div>\n                ))}\n              </div>\n            )}\n          </div>\n          \n          <button \n            className=\"next-btn\" \n            onClick={nextStep}\n            disabled={formData.outfitImages.length === 0}\n          >\n            Next\n          </button>\n        </div>\n      )}\n\n      {/* Step 3: Age */}\n      {currentStep === 3 && (\n        <div className=\"paper-overlay step-3\">\n          <button className=\"back-btn\" onClick={prevStep}>‚Üê Back</button>\n          <div className=\"question\">Tell me about them?</div>\n          <div className=\"age-slider\">\n            <label>Age:</label>\n            <input\n              type=\"range\"\n              min=\"1\"\n              max=\"100\"\n              value={formData.age}\n              onChange={(e) => updateFormData('age', parseInt(e.target.value))}\n            />\n            <div className=\"age-value\">{formData.age}</div>\n          </div>\n          <button className=\"next-btn\" onClick={nextStep}>\n            Next\n          </button>\n        </div>\n      )}\n\n      {/* Step 4: Gender */}\n      {currentStep === 4 && (\n        <div className=\"paper-overlay step-4\">\n          <button className=\"back-btn\" onClick={prevStep}>‚Üê Back</button>\n          <div className=\"question\">Tell me about them?</div>\n          <div className=\"options\">\n            <button\n              className={`option-btn ${formData.gender === 'M' ? 'selected' : ''}`}\n              onClick={() => updateFormData('gender', 'M')}\n            >\n              M\n            </button>\n            <button\n              className={`option-btn ${formData.gender === 'F' ? 'selected' : ''}`}\n              onClick={() => updateFormData('gender', 'F')}\n            >\n              F\n            </button>\n            <button\n              className={`option-btn ${formData.gender === 'Other' ? 'selected' : ''}`}\n              onClick={() => updateFormData('gender', 'Other')}\n            >\n              Other\n            </button>\n            <button\n              className={`option-btn ${formData.gender === 'Prefer not to say' ? 'selected' : ''}`}\n              onClick={() => updateFormData('gender', 'Prefer not to say')}\n            >\n              Prefer not to say\n            </button>\n          </div>\n          <button \n            className=\"next-btn\" \n            onClick={nextStep}\n            disabled={!formData.gender}\n          >\n            Next\n          </button>\n        </div>\n      )}\n\n      {/* Step 5: When is the gift for? */}\n      {currentStep === 5 && (\n        <div className=\"paper-overlay step-5\">\n          <button className=\"back-btn\" onClick={prevStep}>‚Üê Back</button>\n          <div className=\"question\">Tell me about them?</div>\n          <div className=\"input-group\">\n            <label>When is the gift for?</label>\n            <MonthDropdown \n              value={formData.month}\n              onChange={(month) => updateFormData('month', month)}\n            />\n          </div>\n          <button \n            className=\"next-btn\" \n            onClick={nextStep}\n            disabled={!formData.month}\n          >\n            Next\n          </button>\n        </div>\n      )}\n\n      {/* Step 6: Occasion */}\n      {currentStep === 6 && (\n        <div className=\"paper-overlay step-6\">\n          <button className=\"back-btn\" onClick={prevStep}>‚Üê Back</button>\n          <img src=\"/occasion.svg\" alt=\"Occasion\" className=\"occasion-icon\" />\n          <div className=\"question\">Tell me about them?</div>\n          <div className=\"input-group\">\n            <label>Occasion:</label>\n            <input\n              type=\"text\"\n              placeholder=\"Birthday, Anniversary, etc...\"\n              value={formData.occasion}\n              onChange={(e) => updateFormData('occasion', e.target.value)}\n            />\n          </div>\n          <button \n            className=\"next-btn\" \n            onClick={nextStep}\n            disabled={!formData.occasion.trim()}\n          >\n            Next\n          </button>\n        </div>\n      )}\n\n      {/* Step 7: Budget */}\n      {currentStep === 7 && (\n        <div className=\"paper-overlay step-7\">\n          <button className=\"back-btn\" onClick={prevStep}>‚Üê Back</button>\n          <div className=\"question\">What's your budget?</div>\n          <div className=\"input-group\">\n            <label>Enter budget:</label>\n            <input\n              type=\"text\"\n              placeholder=\"$50, $100, etc...\"\n              value={formData.budget}\n              onChange={(e) => updateFormData('budget', e.target.value)}\n            />\n          </div>\n          <button \n            className=\"next-btn\" \n            onClick={nextStep}\n            disabled={!formData.budget.trim()}\n          >\n            Next\n          </button>\n        </div>\n      )}\n\n      {/* Step 8: Ready to find gifts */}\n      {currentStep === 8 && (\n        <div className=\"paper-overlay step-8\">\n          <button className=\"back-btn\" onClick={prevStep}>‚Üê Back</button>\n          <div className=\"final-message\">\n            <h2>It seems like we are ready.</h2>\n            <p>Let's go find a gift!</p>\n            <button \n              className=\"next-btn find-gifts-btn\" \n              onClick={submitToAPI}\n              disabled={isLoading}\n            >\n              {isLoading ? 'Finding Gifts...' : 'Find Gifts!'}\n            </button>\n          </div>\n        </div>\n      )}\n\n      {/* Step 9: Results from API */}\n      {currentStep === 9 && (\n        <div className=\"paper-overlay step-9\">\n          <div className=\"results-page\">\n            {isLoading ? (\n              <WalkingLoader recipient={formData.recipient} />\n            ) : apiResponse ? (\n              <div className=\"gift-results\">\n                <h2>Perfect Gifts for {formData.recipient}!</h2>\n                {apiResponse.error ? (\n                  <div className=\"error-message\">\n                    <p>{apiResponse.error}</p>\n                    <button className=\"next-btn\" onClick={() => setCurrentStep(7)}>\n                      Try Again\n                    </button>\n                  </div>\n                ) : (\n                  <div className=\"bundle-carousel-container\">\n                    <div className=\"bundle-explanation\">\n                      <h3>üéØ AI-Curated Gift Bundles</h3>\n                      <p>Our AI analyzed your style preferences and created these perfect shoe & handbag combinations for {formData.recipient}. Each bundle is carefully matched for style, occasion, and budget.</p>\n                    </div>\n\n                    {apiResponse.bundles && apiResponse.bundles.length > 0 && (\n                      <div className=\"bundle-carousel\">\n                        <div className=\"carousel-header\">\n                          <h3>Bundle {currentBundleIndex + 1} of {apiResponse.bundles.length}</h3>\n                          <div className=\"carousel-dots\">\n                            {apiResponse.bundles.map((_, index) => (\n                              <button\n                                key={index}\n                                className={`dot ${index === currentBundleIndex ? 'active' : ''}`}\n                                onClick={() => setCurrentBundleIndex(index)}\n                              />\n                            ))}\n                          </div>\n                        </div>\n\n                        <div className=\"carousel-content\">\n                          <button \n                            className=\"carousel-btn prev-btn\" \n                            onClick={prevBundle}\n                            disabled={apiResponse.bundles.length <= 1}\n                          >\n                            ‚Äπ\n                          </button>\n\n                          <div className=\"bundle-display\">\n                            {(() => {\n                              const bundle = apiResponse.bundles[currentBundleIndex];\n                              return (\n                                <div className=\"bundle-card-horizontal\">\n                                  <div className=\"bundle-header\">\n                                    <h3>{bundle.bundle_name || `Bundle ${bundle.bundle_number}`}</h3>\n                                    <div className=\"bundle-meta\">\n                                      <span className=\"bundle-type\">{bundle.bundle_type}</span>\n                                      <span className=\"match-score\">Match: {bundle.match_score}/10</span>\n                                    </div>\n                                  </div>\n\n                                  <div className=\"bundle-feedback\">\n                                    <button className=\"feedback-btn thumbs-up\" title=\"I like this bundle\">\n                                      üëç\n                                    </button>\n                                    <button className=\"feedback-btn thumbs-down\" title=\"Not for me\">\n                                      üëé\n                                    </button>\n                                  </div>\n\n                                  <div className=\"bundle-items-horizontal\">\n                                    {bundle.items && bundle.items.map((item, itemIndex) => {\n                                      const getCategoryIcon = (category) => {\n                                        switch(category) {\n                                          case 'shoes': return 'üë†';\n                                          case 'handbag': return 'üëú';\n                                          case 'clothing': return 'üëî';\n                                          default: return 'üéÅ';\n                                        }\n                                      };\n\n                                      const getCategoryLabel = (category) => {\n                                        switch(category) {\n                                          case 'shoes': return 'Shoes';\n                                          case 'handbag': return 'Handbag';\n                                          case 'clothing': return 'Clothing';\n                                          default: return 'Item';\n                                        }\n                                      };\n\n                                      return (\n                                        <Fragment key={itemIndex}>\n                                          <div className=\"bundle-item-horizontal\">\n                                            <div className=\"item-header\">\n                                              <h4>{getCategoryIcon(item.category)} {getCategoryLabel(item.category)}</h4>\n                                            </div>\n                                            {item.image_url && (\n                                              <img src={item.image_url} alt={item.product_name} className=\"item-image-large\" />\n                                            )}\n                                            <div className=\"item-details\">\n                                              <p className=\"item-name\">{item.product_name}</p>\n                                              <p className=\"item-price\">${item.price}</p>\n                                              {item.product_url && (\n                                                <a href={item.product_url} target=\"_blank\" rel=\"noopener noreferrer\" className=\"item-link\">\n                                                  View {getCategoryLabel(item.category)}\n                                                </a>\n                                              )}\n                                              {item.reason && (\n                                                <div className=\"item-reason\">\n                                                  <p><strong>Why this {item.category}:</strong> {item.reason}</p>\n                                                </div>\n                                              )}\n                                            </div>\n                                          </div>\n                                          {itemIndex < bundle.items.length - 1 && (\n                                            <div className=\"bundle-connector\">\n                                              <div className=\"connector-line\"></div>\n                                              <div className=\"plus-icon\">+</div>\n                                              <div className=\"connector-line\"></div>\n                                            </div>\n                                          )}\n                                        </Fragment>\n                                      );\n                                    })}\n                                  </div>\n\n                                  {bundle.total_cost && (\n                                    <div className=\"bundle-total-horizontal\">\n                                      <div className=\"total-label\">Bundle Total</div>\n                                      <div className=\"total-price\">${bundle.total_cost}</div>\n                                    </div>\n                                  )}\n\n                                  {bundle.styling_note && (\n                                    <div className=\"bundle-note\">\n                                      <h5>‚ú® Styling Note</h5>\n                                      <p>{bundle.styling_note}</p>\n                                    </div>\n                                  )}\n\n                                  <div className=\"bundle-actions\">\n                                    <button \n                                      className=\"select-bundle-btn\"\n                                      onClick={() => selectBundle(bundle)}\n                                    >\n                                      Select This Bundle üéÅ\n                                    </button>\n                                  </div>\n                                </div>\n                              );\n                            })()}\n                          </div>\n\n                          <button \n                            className=\"carousel-btn next-btn\" \n                            onClick={nextBundle}\n                            disabled={apiResponse.bundles.length <= 1}\n                          >\n                            ‚Ä∫\n                          </button>\n                        </div>\n                      </div>\n                    )}\n                    \n                    {apiResponse.context && (\n                      <div className=\"context-info\">\n                        <h4>üìã Your Preferences</h4>\n                        <div className=\"context-grid\">\n                          <div className=\"context-item\">\n                            <span className=\"context-label\">Recipient:</span>\n                            <span className=\"context-value\">{formData.recipient}</span>\n                          </div>\n                          <div className=\"context-item\">\n                            <span className=\"context-label\">Age:</span>\n                            <span className=\"context-value\">{apiResponse.context.age}</span>\n                          </div>\n                          <div className=\"context-item\">\n                            <span className=\"context-label\">Gender:</span>\n                            <span className=\"context-value\">{apiResponse.context.gender}</span>\n                          </div>\n                          <div className=\"context-item\">\n                            <span className=\"context-label\">Occasion:</span>\n                            <span className=\"context-value\">{apiResponse.context.occasion}</span>\n                          </div>\n                          <div className=\"context-item\">\n                            <span className=\"context-label\">Budget:</span>\n                            <span className=\"context-value\">${apiResponse.context.budget}</span>\n                          </div>\n                          <div className=\"context-item\">\n                            <span className=\"context-label\">Outfits Found:</span>\n                            <span className=\"context-value\">{apiResponse.outfits_count}</span>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n                )}\n                <div className=\"feedback-link-container\">\n                  <button \n                    className=\"feedback-link-btn\"\n                    onClick={() => setShowFeedbackForm(true)}\n                  >\n                    üìù Share your feedback\n                  </button>\n                </div>\n                <button className=\"next-btn\" onClick={() => {\n                  setCurrentStep(0);\n                  setFormData({\n                    recipient: '',\n                    outfitImages: [],\n                    age: 18,\n                    gender: '',\n                    occasion: '',\n                    month: '',\n                    selectedImages: [],\n                    budget: ''\n                  });\n                  setApiResponse(null);\n                  setSelectedBundle(null);\n                  setShowBoxAnimation(false);\n                  setAnimationFrame(1);\n                }}>\n                  Start Over\n                </button>\n              </div>\n            ) : null}\n          </div>\n        </div>\n      )}\n\n      {/* Box Animation Overlay */}\n      {showBoxAnimation && selectedBundle && (\n        <BoxAnimation \n          bundle={selectedBundle}\n          animationFrame={animationFrame}\n          outfitImages={formData.outfitImages}\n          onClose={() => {\n            setShowBoxAnimation(false);\n            setSelectedBundle(null);\n            setAnimationFrame(1);\n          }}\n        />\n      )}\n\n      {/* Feedback Form Overlay */}\n      {showFeedbackForm && (\n        <FeedbackForm onClose={() => setShowFeedbackForm(false)} />\n      )}\n    </div>\n  );\n}\n\nfunction FeedbackForm({ onClose }) {\n  const [feedback, setFeedback] = useState({\n    rating: 0,\n    comments: '',\n    email: ''\n  });\n\n  const handleSubmit = (e) => {\n    e.preventDefault();\n    console.log('Feedback submitted:', feedback);\n    // Here you can add API call to save feedback\n    alert('Thank you for your feedback!');\n    onClose();\n  };\n\n  return (\n    <div className=\"feedback-overlay\">\n      <div className=\"feedback-container\">\n        <button className=\"close-feedback-btn\" onClick={onClose}>√ó</button>\n        <h2>We'd love your feedback!</h2>\n        <p className=\"feedback-subtitle\">Help us improve your gift-finding experience</p>\n        \n        <form onSubmit={handleSubmit} className=\"feedback-form\">\n          <div className=\"form-group\">\n            <label>How would you rate your experience?</label>\n            <div className=\"rating-stars\">\n              {[1, 2, 3, 4, 5].map(star => (\n                <button\n                  key={star}\n                  type=\"button\"\n                  className={`star-btn ${feedback.rating >= star ? 'active' : ''}`}\n                  onClick={() => setFeedback({...feedback, rating: star})}\n                >\n                  ‚≠ê\n                </button>\n              ))}\n            </div>\n          </div>\n\n          <div className=\"form-group\">\n            <label>Tell us more (optional)</label>\n            <textarea\n              value={feedback.comments}\n              onChange={(e) => setFeedback({...feedback, comments: e.target.value})}\n              placeholder=\"What did you like? What could be better?\"\n              rows=\"4\"\n            />\n          </div>\n\n          <div className=\"form-group\">\n            <label>Email (optional)</label>\n            <input\n              type=\"email\"\n              value={feedback.email}\n              onChange={(e) => setFeedback({...feedback, email: e.target.value})}\n              placeholder=\"your@email.com\"\n            />\n          </div>\n\n          <div className=\"form-actions\">\n            <button type=\"submit\" className=\"submit-feedback-btn\">\n              Submit Feedback\n            </button>\n            <button type=\"button\" className=\"cancel-btn\" onClick={onClose}>\n              Cancel\n            </button>\n          </div>\n        </form>\n      </div>\n    </div>\n  );\n}\n\nfunction BoxAnimation({ bundle, animationFrame, outfitImages, onClose }) {\n  return (\n    <div className=\"box-animation-overlay\">\n      <div className=\"box-animation-container\">\n        <button className=\"close-animation-btn\" onClick={onClose}>√ó</button>\n        \n        {/* Frame 1: Closed Box */}\n        {animationFrame === 1 && (\n          <div className=\"animation-frame frame-1\">\n            <div className=\"svg-frame-container\">\n              <img src=\"/frame1.svg\" alt=\"Closed Gift Box\" className=\"frame-svg\" />\n            </div>\n            <h3>Preparing your perfect gift bundle...</h3>\n          </div>\n        )}\n\n        {/* Frame 2: Opening Box with Effects */}\n        {animationFrame === 2 && (\n          <div className=\"animation-frame frame-2\">\n            <div className=\"svg-frame-container\">\n              <img src=\"/frame2.svg\" alt=\"Opening Gift Box\" className=\"frame-svg\" />\n              \n              {/* Aesthetic Effects overlaid on the SVG */}\n              <div className=\"aesthetic-effects-overlay\">\n                <span className=\"effect effect-1\">Àö.„Éª</span>\n                <span className=\"effect effect-2\">‚äπ ‡£™ Àñ</span>\n                <span className=\"effect effect-3\">‚òÜ‚ãÜÔΩ°ñ¶π¬∞‚Äß‚òÖ</span>\n                <span className=\"effect effect-4\">Àô‚ãÜ‚úÆ</span>\n                <span className=\"effect effect-5\">‚ãÜÀö‚ü°Àñ ‡£™</span>\n                <span className=\"effect effect-6\">Àö.„Éª</span>\n              </div>\n            </div>\n            <h3>Opening your gift bundle...</h3>\n          </div>\n        )}\n\n        {/* Frame 3: Cards sliding up behind frame 2 */}\n        {animationFrame === 3 && (\n          <div className=\"animation-frame frame-3\">\n            <div className=\"svg-frame-container\">\n              {/* Cards sliding up behind the box */}\n              <div className=\"cards-sliding-container\">\n                {/* Reference Card */}\n                {outfitImages.length > 0 && (\n                  <div className=\"sliding-card reference-card\">\n                    <img src={outfitImages[0].preview} alt=\"Style Reference\" />\n                    <div className=\"card-label\">Reference</div>\n                  </div>\n                )}\n                \n                {/* Bundle Item Cards */}\n                {bundle.items && bundle.items.map((item, index) => (\n                  <div key={index} className={`sliding-card card-${index + 1}`}>\n                    {item.image_url && (\n                      <img src={item.image_url} alt={item.product_name} />\n                    )}\n                    <div className=\"card-label\">{item.product_name}</div>\n                    <div className=\"card-price\">${item.price}</div>\n                  </div>\n                ))}\n              </div>\n              \n              {/* Keep using frame2.svg for the opened box */}\n              <img src=\"/frame2.svg\" alt=\"Opened Gift Box\" className=\"frame-svg frame-sme-svg-top\" />\n            </div>\n            \n            <div className=\"bundle-summary\">\n              <h3>üéâ Your Perfect Gift Bundle!</h3>\n              <p><strong>{bundle.bundle_name}</strong></p>\n              <p>Total: <strong>${bundle.total_cost}</strong></p>\n              <p>{bundle.styling_note}</p>\n              \n              <div className=\"final-actions\">\n                <button className=\"purchase-btn\">Purchase Bundle</button>\n                <button className=\"share-btn\">Share Bundle</button>\n              </div>\n            </div>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n\nfunction WalkingLoader({ recipient }) {\n  const [walkFrame, setWalkFrame] = useState(1);\n\n  useEffect(() => {\n    const interval = setInterval(() => {\n      setWalkFrame(prev => (prev % 3) + 1);\n    }, 300); // Change frame every 300ms\n\n    return () => clearInterval(interval);\n  }, []);\n\n  return (\n    <div className=\"walking-loader\">\n      <img \n        src={`/walk${walkFrame}.svg`} \n        alt=\"Walking\" \n        className=\"walk-animation\" \n      />\n      <p>Finding the perfect gifts for {recipient}...</p>\n    </div>\n  );\n}\n\nfunction MonthDropdown({ value, onChange }) {\n  const [isOpen, setIsOpen] = useState(false);\n\n  return (\n    <div className=\"dropdown\">\n      <button \n        className=\"dropdown-btn\"\n        onClick={() => setIsOpen(!isOpen)}\n      >\n        {value || 'Month'}\n      </button>\n      {isOpen && (\n        <div className=\"dropdown-content\">\n          {months.map(month => (\n            <div\n              key={month}\n              className=\"dropdown-item\"\n              onClick={() => {\n                onChange(month);\n                setIsOpen(false);\n              }}\n            >\n              {month}\n            </div>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default App;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}